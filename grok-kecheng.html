<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>我的课程</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    .course {
      margin-bottom: 20px;
    }
    .course-title {
      cursor: pointer;
      font-weight: bold;
      background-color: #f0f0f0;
      padding: 10px;
    }
    .episode-list {
      display: none;
      padding-left: 20px;
    }
    li {
      list-style-type: none;
    }
    a {
      text-decoration: none;
      color: blue;
    }
    a:visited {
      color: purple;
    }
    input[type="checkbox"]:checked + a {
      color: green;
    }
  </style>
</head>
<body>
  <h1>我的课程</h1>

  <!-- 说明：如何编辑此页面 -->
  <!-- 要添加新课程：复制整个 <div class="course">...</div> 块，粘贴到下方，然后修改课程编号（例如 course-3-episode-1）和课程名称、集数详情 -->
  <!-- 要添加新集数：在对应课程的 <ul> 内复制 <li>...</li> 块，粘贴到下方，修改集数编号（例如 course-1-episode-3）、标题和链接 -->

  <!-- 课程 1 -->
  <div class="course">
    <div class="course-title">课程 1 名称</div>
    <div class="episode-list">
      <ul>
        <li>
          <input type="checkbox" id="course-1-episode-1" class="episode-checkbox">
          <a href="https://example.com/course1-episode1" target="_blank" onclick="markAsWatched('course-1-episode-1')">第1集：标题</a>
        </li>
        <li>
          <input type="checkbox" id="course-1-episode-2" class="episode-checkbox">
          <a href="https://example.com/course1-episode2" target="_blank" onclick="markAsWatched('course-1-episode-2')">第2集：标题</a>
        </li>
        <!-- 在此添加更多集数 -->
      </ul>
    </div>
  </div>

  <!-- 课程 2 -->
  <div class="course">
    <div class="course-title">课程 2 名称</div>
    <div class="episode-list">
      <ul>
        <li>
          <input type="checkbox" id="course-2-episode-1" class="episode-checkbox">
          <a href="https://example.com/course2-episode1" target="_blank" onclick="markAsWatched('course-2-episode-1')">第1集：标题</a>
        </li>
        <!-- 在此添加更多集数 -->
      </ul>
    </div>
  </div>

  <!-- 在此添加更多课程 -->

  <script>
    function markAsWatched(episodeId) {
      var checkbox = document.getElementById(episodeId);
      checkbox.checked = true;
      localStorage.setItem(episodeId, 'watched');
    }

    window.onload = function() {
      var checkboxes = document.querySelectorAll('.episode-checkbox');
      checkboxes.forEach(function(checkbox) {
        var episodeId = checkbox.id;
        if (localStorage.getItem(episodeId) === 'watched') {
          checkbox.checked = true;
        }
        checkbox.addEventListener('change', function() {
          if (this.checked) {
            localStorage.setItem(episodeId, 'watched');
          } else {
            localStorage.removeItem(episodeId);
          }
        });
      });

      var courseTitles = document.querySelectorAll('.course-title');
      courseTitles.forEach(function(title) {
        title.addEventListener('click', function() {
          var episodeList = this.nextElementSibling;
          if (episodeList.style.display === 'none' || episodeList.style.display === '') {
            episodeList.style.display = 'block';
          } else {
            episodeList.style.display = 'none';
          }
        });
      });
    }
  </script>
</body>
</html>